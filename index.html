
<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>D3 Course</title> 
</head>
  
     <script src="https://d3js.org/d3.v3.min.js"></script>   
    <style>
        p{
            border: 2px solid red;
            height: 40px;
            width: 120px;
            line-height: 40px;
            text-align: center;
        }
        #i_txt{
              border: 2px solid green;
        }
        #svg_1{
            background-color: oldlace;
        }
    </style>       
<body>  
    <script>
        //write code d3 v3版
        // d3.select("body").append("div").text("Hello D3!");
        // d3.select("body>div").text("hello");  //change body裡的div text
    </script>
    <script>
        
        function random(n,m){      
            var rNum =Math.ceil(Math.random()*(m-n)+n);    
            return rNum; 
        };
        
        function launch(){
            var num = random(1911,2016);
            //console.log(num);
            d3.select("body>p").text(num);
            
        };
         function square(){
            var num = d3.select("#i_txt").property("value");
            // console.log(num*num);  
           d3.select("#i_txt").property("value",num*num);
            
        } ;    
        
    </script>
    
    <p></p>
    <input type="button" value="Click" onclick="launch()">
    <hr>
    <input type="text" class="number" id="i_txt">    
    <input type="button" value="平方" onclick="square()"> 
    <hr>
    <svg width="300" height="200" id='svg_1'></svg>
    <hr>
    <svg width="400" height="280" id='svg_2'></svg>
    <hr>  
    
    <script> 
       d3.select("#svg_1")
          .append("circle")
          .attr({
            cx : 150,
            cy : 120,
            r  : 15
        });
        d3.select("#svg_1")
          .append("rect")
          .attr({
            x : 160,
            y : 45,
            width  : 5,
            height : 78
        });
        d3.select("#svg_1")
          .append("text")
          .attr({
            x : 135,
            y : 200,
            "font-size" : 40,
            "font-family" : "arial"
        }).text("A");
        
        for(i=0;i<5;i++){
            d3.select("#svg_1")
              .append("line")
              .attr({
                x1 : 0,
                y1 : 45+i*30,
                x2 : 300,
                y2 : 45+i*30,
                stroke : 'black',
                "stroke-width": '2'
            });
        } 
         
        
      for(var i=0;i<20;i=i+1){
           var p_value = Math.floor(Math.random()*280+20);
         d3.select("#svg_2").append("rect")
            .attr({
                x: 10,
                y: 10+15*i,
                width: 20+p_value ,
                height: 10,
                fill: "red"
            });  
          
         d3.select("#svg_2")
            .append("text")
            .attr({
                x : 35+p_value,
                y : 10+15*i+10,
                "font-size" : 12,
                "font-family" : "arial"
            }).text(p_value);         
        }
             
        
    </script>
</body>
</html>